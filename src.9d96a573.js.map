{"version":3,"sources":["index.js"],"names":["gallery","document","querySelector","ligthbox","lightboxImage","lightboxButton","lightboxOverlay","setItemGallery","idx","openImage","event","preventDefault","classList","add","setAttribute","target","getAttribute","addEventListener","closeImage","window","keyboard","slider","remove","removeEventListener","key","swipe","galleryItems","delta","index","indexSlider","Number","length","original","description","forEach","item","preview","insertAdjacentHTML"],"mappings":";;;AA4EC,aA5ED,QAAA,oBAGA,MAAMA,EAAUC,SAASC,cAAc,eACjCC,EAAWF,SAASC,cAAc,gBAClCE,EAAgBH,SAASC,cAAc,oBACvCG,EAAiBJ,SAASC,cAAc,qBACxCI,EAAkBL,SAASC,cAAc,sBAC/C,IAAIK,EAAiB,IAGjBC,EAAM,EAYV,SAASC,EAAUC,GAChBA,EAAMC,iBACNR,EAASS,UAAUC,IAAI,WACvBT,EAAcU,aAAa,MAAOJ,EAAMK,OAAOC,aAAa,gBAC5DZ,EAAcU,aAAa,MAAOJ,EAAMK,OAAOC,aAAa,QAC5DZ,EAAcU,aAAa,WAAYJ,EAAMK,OAAOC,aAAa,aACjEX,EAAeY,iBAAiB,QAASC,GACzCZ,EAAgBW,iBAAiB,QAASC,GAC1CC,OAAOF,iBAAiB,QAASG,GACjCD,OAAOF,iBAAiB,QAASI,GAIpC,SAASH,EAAWR,GACjBP,EAASS,UAAUU,OAAO,WAC1BlB,EAAcU,aAAa,MAAO,IAClCV,EAAcU,aAAa,MAAO,IAClCT,EAAekB,oBAAoB,QAASL,GAC5CZ,EAAgBiB,oBAAoB,QAASL,GAC7CC,OAAOI,oBAAoB,QAASH,GACpCD,OAAOI,oBAAoB,QAASF,GAIvC,SAASD,EAASV,GACG,WAAdA,EAAMc,KACPN,IAMN,SAASG,EAAOX,GACK,cAAdA,EAAMc,KACPC,EAAMC,cAAe,GAEL,eAAdhB,EAAMc,KACPC,EAAMC,aAAc,GAI3B,SAASD,EAAMC,EAAcC,GACtBC,IAAAA,EAAQxB,EAAcY,aAAa,YACnCa,EAAcC,OAAOF,GAASD,EAC9BE,EAAc,EACfA,EAAcH,EAAaK,OAAS,EAE9BF,IAAgBH,EAAaK,SACnCF,EAAc,GAEjBzB,EAAcU,aAAa,MAAOY,EAAaG,GAAaG,UAC5D5B,EAAcU,aAAa,MAAOY,EAAaG,GAAaI,aAC5D7B,EAAcU,aAAa,WAAYe,GA/D1CH,aAAaQ,QAAQC,IAClB5B,qEAAqF4B,EAAKH,kDAAkDG,EAAKC,mBAAmBD,EAAKF,+BAA+BE,EAAKH,uBAAuBxB,eACpOA,GAAO,IAEVR,EAAQqC,mBAAmB,aAAc9B,GAGzCP,EAAQiB,iBAAiB,QAASR","file":"src.9d96a573.js","sourceRoot":"../src","sourcesContent":["import './sass/main.scss';\n\n\nconst gallery = document.querySelector(\".js-gallery\");\nconst ligthbox = document.querySelector(\".js-lightbox\");\nconst lightboxImage = document.querySelector(\".lightbox__image\")\nconst lightboxButton = document.querySelector(\".lightbox__button\")\nconst lightboxOverlay = document.querySelector(\".lightbox__overlay\");\nlet setItemGallery = \" \";\n\n// Добавляю элементы в html.\nlet idx = 0;\ngalleryItems.forEach(item => {\n   setItemGallery += (`<li class = \"gallery__item\"><a class = \"gallery__link\" href = \"${item.original}\"><img class = \"gallery__image\" src = \"${item.preview}\" alt = \"${item.description}\" data-source = \"${item.original}\" data-idx=\"${idx}\"></a></li>`);\n   idx += 1;\n});\ngallery.insertAdjacentHTML('afterbegin', setItemGallery);\n\n// Добавляю слушателей\ngallery.addEventListener('click', openImage);\n\n\n// Функция открытия картинки в оригинальном размере\nfunction openImage(event) { \n   event.preventDefault();\n   ligthbox.classList.add('is-open');\n   lightboxImage.setAttribute('src', event.target.getAttribute('data-source'));\n   lightboxImage.setAttribute('alt', event.target.getAttribute('alt'));\n   lightboxImage.setAttribute('data-idx', event.target.getAttribute('data-idx'));\n   lightboxButton.addEventListener('click', closeImage);\n   lightboxOverlay.addEventListener('click', closeImage);\n   window.addEventListener('keyup', keyboard);\n   window.addEventListener('keyup', slider);\n};\n\n// Функция закрытия картинки\nfunction closeImage(event) {\n   ligthbox.classList.remove('is-open');\n   lightboxImage.setAttribute('src', \"\");\n   lightboxImage.setAttribute('alt', \"\");\n   lightboxButton.removeEventListener('click', closeImage);\n   lightboxOverlay.removeEventListener('click', closeImage);\n   window.removeEventListener('keyup', keyboard);\n   window.removeEventListener('keyup', slider);     \n};\n\n// Закрытие по \"Esc\"\nfunction keyboard(event) {\n   if (event.key === \"Escape\") {\n      closeImage()\n   };\n};\n\n// Слайдер\n\nfunction slider(event) {\n   if (event.key === \"ArrowLeft\") {\n      swipe(galleryItems, -1);\n   };\n    if (event.key === \"ArrowRight\") {\n       swipe(galleryItems, 1);\n   };\n};\n\nfunction swipe(galleryItems, delta) {\n   let index = lightboxImage.getAttribute(\"data-idx\");\n   let indexSlider = Number(index) + delta;\n   if (indexSlider < 0) {\n      indexSlider = galleryItems.length - 1;\n   }\n   else if (indexSlider === galleryItems.length) {\n      indexSlider = 0;\n   };\n   lightboxImage.setAttribute('src', galleryItems[indexSlider].original);\n   lightboxImage.setAttribute('alt', galleryItems[indexSlider].description);\n   lightboxImage.setAttribute('data-idx', indexSlider);      \n};\n\n\n"]}